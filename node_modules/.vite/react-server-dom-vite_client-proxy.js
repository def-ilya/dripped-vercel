import {
  __toESM,
  require_react
} from "./chunk-4TRVUPCS.js";

// node_modules/@shopify/hydrogen/vendor/react-server-dom-vite/esm/react-server-dom-vite-client-proxy.js
var import_react = __toESM(require_react(), 1);
globalThis.__COMPONENT_INDEX = {};
function isReactComponent(component, name) {
  if (!component)
    return false;
  return typeof component === "function" && /^[A-Z]/.test(name) || typeof component.render === "function" || component.$$typeof === Symbol.for("react.element");
}
function wrapInClientProxy(_ref) {
  var id = _ref.id, name = _ref.name, named = _ref.named, component = _ref.component;
  if (!isReactComponent(component, name)) {
    return component;
  }
  var render = function(props) {
    return (0, import_react.createElement)(component, props);
  };
  Object.defineProperty(render, "name", {
    value: name
  });
  {
    render.displayName = name;
  }
  var componentRef = /* @__PURE__ */ Object.create(null);
  componentRef.$$typeof = Symbol.for("react.forward_ref");
  componentRef.render = render;
  var moduleRef = /* @__PURE__ */ Object.create(null);
  moduleRef.$$typeof_rsc = Symbol.for("react.module.reference");
  moduleRef.filepath = id;
  moduleRef.name = named ? name : "default";
  globalThis.__COMPONENT_INDEX[id] = Object.defineProperty(globalThis.__COMPONENT_INDEX[id] || /* @__PURE__ */ Object.create(null), moduleRef.name, {
    value: component,
    writable: true
  });
  return new Proxy(componentRef, {
    get: function(target, prop) {
      return target[prop] || moduleRef[prop] || component[prop];
    }
  });
}
export {
  wrapInClientProxy
};
/**
 * @license React
 * react-server-dom-vite-client-proxy.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
//# sourceMappingURL=react-server-dom-vite_client-proxy.js.map
